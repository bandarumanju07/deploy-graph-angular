{"ast":null,"code":"import { FormControl, FormGroup, Validators } from '@angular/forms';\nimport { GET_PRODUCTS, GET_PRODUCTS_BY_ID } from '../graphql.operations';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"apollo-angular\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/forms\";\nfunction PostsComponent_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"p\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Error: \", ctx_r0.error, \"\");\n  }\n}\nfunction PostsComponent_div_7_li_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"li\")(1, \"div\", 8)(2, \"span\", 9);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"span\", 10);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const product_r3 = ctx.$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(product_r3.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(product_r3.price);\n  }\n}\nfunction PostsComponent_div_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 6)(1, \"ul\");\n    i0.ɵɵtemplate(2, PostsComponent_div_7_li_2_Template, 6, 2, \"li\", 7);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.products);\n  }\n}\nexport class PostsComponent {\n  searchPosts() {\n    this.apollo.query({\n      query: GET_PRODUCTS_BY_ID,\n      variables: {\n        username: this.searchForm.value.username\n      }\n    }).subscribe(({\n      data\n    }) => {\n      this.products = data.products;\n    });\n  }\n  constructor(apollo) {\n    this.apollo = apollo;\n    this.products = [];\n    this.searchForm = new FormGroup({\n      username: new FormControl('gethackteam', Validators.required)\n    });\n  }\n  ngOnInit() {\n    this.apollo.watchQuery({\n      query: GET_PRODUCTS\n    }).valueChanges.subscribe(({\n      data,\n      error\n    }) => {\n      this.products = data.products;\n      this.error = error;\n    });\n  }\n}\nPostsComponent.ɵfac = function PostsComponent_Factory(t) {\n  return new (t || PostsComponent)(i0.ɵɵdirectiveInject(i1.Apollo));\n};\nPostsComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: PostsComponent,\n  selectors: [[\"app-posts\"]],\n  decls: 8,\n  vars: 4,\n  consts: [[1, \"main\"], [4, \"ngIf\"], [1, \"form\", 3, \"formGroup\", \"ngSubmit\"], [\"type\", \"text\", \"name\", \"username\", \"placeholder\", \"Enter username\", \"formControlName\", \"username\", 1, \"input\"], [1, \"submit-button\", 3, \"disabled\"], [\"class\", \"posts-container\", 4, \"ngIf\"], [1, \"posts-container\"], [4, \"ngFor\", \"ngForOf\"], [1, \"product\"], [1, \"post-title\"], [1, \"post-description\"]],\n  template: function PostsComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0);\n      i0.ɵɵtemplate(1, PostsComponent_div_1_Template, 3, 1, \"div\", 1);\n      i0.ɵɵelementStart(2, \"form\", 2);\n      i0.ɵɵlistener(\"ngSubmit\", function PostsComponent_Template_form_ngSubmit_2_listener() {\n        return ctx.searchPosts();\n      });\n      i0.ɵɵelement(3, \"input\", 3)(4, \"br\");\n      i0.ɵɵelementStart(5, \"button\", 4);\n      i0.ɵɵtext(6, \" SUBMIT \");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵtemplate(7, PostsComponent_div_7_Template, 3, 1, \"div\", 5);\n      i0.ɵɵelementEnd();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.error);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"formGroup\", ctx.searchForm);\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"disabled\", ctx.searchForm.invalid);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", ctx.products);\n    }\n  },\n  dependencies: [i2.NgForOf, i2.NgIf, i3.ɵNgNoValidate, i3.DefaultValueAccessor, i3.NgControlStatus, i3.NgControlStatusGroup, i3.FormGroupDirective, i3.FormControlName],\n  styles: [\".main[_ngcontent-%COMP%]{margin-top:60px}.posts-container[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0;display:grid;grid-template-columns:repeat(3,1fr);grid-gap:10px}.posts-container[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:10px;border-bottom:1px solid #e0e0e0}.post[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:10px}.post-title[_ngcontent-%COMP%]{font-size:18px;font-weight:700;padding-bottom:10px}.post-description[_ngcontent-%COMP%]{font-size:14px}form[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;padding:10px}form[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{padding:5px 10px;margin-right:10px}form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:7px 12px;border:0px;border-radius:3px;background:#E23237;color:#fff}\"]\n});","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}