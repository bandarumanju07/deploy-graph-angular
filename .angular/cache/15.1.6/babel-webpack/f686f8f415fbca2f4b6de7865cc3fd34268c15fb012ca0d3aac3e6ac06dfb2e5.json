{"ast":null,"code":"import { FormControl, FormGroup, Validators } from '@angular/forms';\nimport { GET_PRODUCTS, GET_PRODUCTS_BY_ID } from '../graphql.operations';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"apollo-angular\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/forms\";\nfunction PostsComponent_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"p\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Error: \", ctx_r0.error, \"\");\n  }\n}\nfunction PostsComponent_div_7_li_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"li\")(1, \"div\", 8)(2, \"span\", 9);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"span\", 10);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const product_r3 = ctx.$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(product_r3.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(product_r3.price);\n  }\n}\nfunction PostsComponent_div_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 6)(1, \"ul\");\n    i0.ɵɵtemplate(2, PostsComponent_div_7_li_2_Template, 6, 2, \"li\", 7);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.products);\n  }\n}\nexport class PostsComponent {\n  searchPosts() {\n    this.apollo.query({\n      query: GET_PRODUCTS_BY_ID,\n      variables: {\n        username: this.searchForm.value.username\n      }\n    }).subscribe(({\n      data\n    }) => {\n      this.products = data.products;\n    });\n  }\n  constructor(apollo) {\n    this.apollo = apollo;\n    this.products = [];\n    this.searchForm = new FormGroup({\n      username: new FormControl('gethackteam', Validators.required)\n    });\n  }\n  ngOnInit() {\n    this.apollo.watchQuery({\n      query: GET_PRODUCTS\n    }).valueChanges.subscribe(({\n      data,\n      error\n    }) => {\n      this.products = data.products;\n      this.error = error;\n    });\n  }\n}\nPostsComponent.ɵfac = function PostsComponent_Factory(t) {\n  return new (t || PostsComponent)(i0.ɵɵdirectiveInject(i1.Apollo));\n};\nPostsComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: PostsComponent,\n  selectors: [[\"app-posts\"]],\n  decls: 8,\n  vars: 4,\n  consts: [[1, \"main\"], [4, \"ngIf\"], [1, \"form\", 3, \"formGroup\", \"ngSubmit\"], [\"type\", \"text\", \"name\", \"username\", \"placeholder\", \"Enter username\", \"formControlName\", \"username\", 1, \"input\"], [1, \"submit-button\", 3, \"disabled\"], [\"class\", \"posts-container\", 4, \"ngIf\"], [1, \"posts-container\"], [4, \"ngFor\", \"ngForOf\"], [1, \"product\"], [1, \"post-title\"], [1, \"post-description\"]],\n  template: function PostsComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0);\n      i0.ɵɵtemplate(1, PostsComponent_div_1_Template, 3, 1, \"div\", 1);\n      i0.ɵɵelementStart(2, \"form\", 2);\n      i0.ɵɵlistener(\"ngSubmit\", function PostsComponent_Template_form_ngSubmit_2_listener() {\n        return ctx.searchPosts();\n      });\n      i0.ɵɵelement(3, \"input\", 3)(4, \"br\");\n      i0.ɵɵelementStart(5, \"button\", 4);\n      i0.ɵɵtext(6, \" SUBMIT \");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵtemplate(7, PostsComponent_div_7_Template, 3, 1, \"div\", 5);\n      i0.ɵɵelementEnd();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.error);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"formGroup\", ctx.searchForm);\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"disabled\", ctx.searchForm.invalid);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", ctx.products);\n    }\n  },\n  dependencies: [i2.NgForOf, i2.NgIf, i3.ɵNgNoValidate, i3.DefaultValueAccessor, i3.NgControlStatus, i3.NgControlStatusGroup, i3.FormGroupDirective, i3.FormControlName],\n  styles: [\".main[_ngcontent-%COMP%] {\\n    margin-top: 60px;\\n}\\n\\n.posts-container[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] {\\n    list-style: none;\\n    padding: 0;\\n    display: grid;\\n    grid-template-columns: repeat(3, 1fr);\\n    grid-gap: 10px;\\n}\\n\\n.posts-container[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] {\\n    padding: 10px;\\n    border-bottom: 1px solid #e0e0e0;\\n}\\n\\n.post[_ngcontent-%COMP%] {\\n    display: flex;\\n    flex-direction: column;\\n    padding: 10px;\\n}\\n\\n.post-title[_ngcontent-%COMP%] {\\n    font-size: 18px;\\n    font-weight: bold;\\n    padding-bottom: 10px;\\n}\\n\\n.post-description[_ngcontent-%COMP%] {\\n    font-size: 14px;\\n}\\n\\nform[_ngcontent-%COMP%] {\\n    display: flex;\\n    align-items: center;\\n    justify-content: center;\\n    padding: 10px;\\n}\\n\\nform[_ngcontent-%COMP%]   input[type=\\\"text\\\"][_ngcontent-%COMP%] {\\n    padding: 5px 10px;\\n    margin-right: 10px;\\n}\\n\\nform[_ngcontent-%COMP%]   button[_ngcontent-%COMP%] {\\n    padding: 7px 12px;\\n    border: 0px;\\n    border-radius: 3px;\\n    background: #E23237;\\n    color: #FFF;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvcG9zdHMvcG9zdHMuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtJQUNJLGdCQUFnQjtBQUNwQjs7QUFFQTtJQUNJLGdCQUFnQjtJQUNoQixVQUFVO0lBQ1YsYUFBYTtJQUNiLHFDQUFxQztJQUNyQyxjQUFjO0FBQ2xCOztBQUVBO0lBQ0ksYUFBYTtJQUNiLGdDQUFnQztBQUNwQzs7QUFFQTtJQUNJLGFBQWE7SUFDYixzQkFBc0I7SUFDdEIsYUFBYTtBQUNqQjs7QUFFQTtJQUNJLGVBQWU7SUFDZixpQkFBaUI7SUFDakIsb0JBQW9CO0FBQ3hCOztBQUVBO0lBQ0ksZUFBZTtBQUNuQjs7QUFFQTtJQUNJLGFBQWE7SUFDYixtQkFBbUI7SUFDbkIsdUJBQXVCO0lBQ3ZCLGFBQWE7QUFDakI7O0FBRUE7SUFDSSxpQkFBaUI7SUFDakIsa0JBQWtCO0FBQ3RCOztBQUVBO0lBQ0ksaUJBQWlCO0lBQ2pCLFdBQVc7SUFDWCxrQkFBa0I7SUFDbEIsbUJBQW1CO0lBQ25CLFdBQVc7QUFDZiIsInNvdXJjZXNDb250ZW50IjpbIi5tYWluIHtcbiAgICBtYXJnaW4tdG9wOiA2MHB4O1xufVxuXG4ucG9zdHMtY29udGFpbmVyIHVsIHtcbiAgICBsaXN0LXN0eWxlOiBub25lO1xuICAgIHBhZGRpbmc6IDA7XG4gICAgZGlzcGxheTogZ3JpZDtcbiAgICBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IHJlcGVhdCgzLCAxZnIpO1xuICAgIGdyaWQtZ2FwOiAxMHB4O1xufVxuXG4ucG9zdHMtY29udGFpbmVyIHVsIGxpIHtcbiAgICBwYWRkaW5nOiAxMHB4O1xuICAgIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjZTBlMGUwO1xufVxuXG4ucG9zdCB7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICAgIHBhZGRpbmc6IDEwcHg7XG59XG5cbi5wb3N0LXRpdGxlIHtcbiAgICBmb250LXNpemU6IDE4cHg7XG4gICAgZm9udC13ZWlnaHQ6IGJvbGQ7XG4gICAgcGFkZGluZy1ib3R0b206IDEwcHg7XG59XG5cbi5wb3N0LWRlc2NyaXB0aW9uIHtcbiAgICBmb250LXNpemU6IDE0cHg7XG59XG5cbmZvcm0ge1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgICBwYWRkaW5nOiAxMHB4O1xufVxuXG5mb3JtIGlucHV0W3R5cGU9XCJ0ZXh0XCJdIHtcbiAgICBwYWRkaW5nOiA1cHggMTBweDtcbiAgICBtYXJnaW4tcmlnaHQ6IDEwcHg7XG59XG5cbmZvcm0gYnV0dG9uIHtcbiAgICBwYWRkaW5nOiA3cHggMTJweDtcbiAgICBib3JkZXI6IDBweDtcbiAgICBib3JkZXItcmFkaXVzOiAzcHg7XG4gICAgYmFja2dyb3VuZDogI0UyMzIzNztcbiAgICBjb2xvcjogI0ZGRjtcbn0iXSwic291cmNlUm9vdCI6IiJ9 */\"]\n});","map":{"version":3,"mappings":"AACA,SAASA,WAAW,EAAEC,SAAS,EAAEC,UAAU,QAAQ,gBAAgB;AAEnE,SAASC,YAAY,EAAEC,kBAAkB,QAAQ,uBAAuB;;;;;;;ICFtEC,2BAAmB;IACdA,YAAkB;IAAAA,iBAAI;;;;IAAtBA,eAAkB;IAAlBA,kDAAkB;;;;;IAmBnBA,0BAAqC;IAERA,YAAkB;IAAAA,iBAAO;IAClDA,gCAA+B;IAAAA,YAAmB;IAAAA,iBAAO;;;;IADhCA,eAAkB;IAAlBA,qCAAkB;IACZA,eAAmB;IAAnBA,sCAAmB;;;;;IAL1DA,8BAA8C;IAE1CA,mEAKK;IACPA,iBAAK;;;;IANqBA,eAAW;IAAXA,yCAAW;;;ADXzC,OAAM,MAAOC,cAAc;EAQzBC,WAAW;IACT,IAAI,CAACC,MAAM,CAACC,KAAK,CAAC;MAChBA,KAAK,EAAEL,kBAAkB;MACzBM,SAAS,EAAE;QACTC,QAAQ,EAAE,IAAI,CAACC,UAAU,CAACC,KAAK,CAACF;;KAEnC,CAAC,CAACG,SAAS,CAAC,CAAC;MAAEC;IAAI,CAAO,KAAI;MAC7B,IAAI,CAACC,QAAQ,GAAGD,IAAI,CAACC,QAAQ;IAC/B,CAAC,CAAC;EAEJ;EAEAC,YAAoBT,MAAc;IAAd,WAAM,GAANA,MAAM;IAnB1B,aAAQ,GAAU,EAAE;IAGpB,eAAU,GAAG,IAAIP,SAAS,CAAC;MACzBU,QAAQ,EAAE,IAAIX,WAAW,CAAC,aAAa,EAAEE,UAAU,CAACgB,QAAQ;KAC7D,CAAC;EAcoC;EAEtCC,QAAQ;IACN,IAAI,CAACX,MAAM,CAACY,UAAU,CAAC;MACrBX,KAAK,EAAEN;KACR,CAAC,CAACkB,YAAY,CAACP,SAAS,CAAC,CAAC;MAAEC,IAAI;MAAEO;IAAK,CAAO,KAAI;MACjD,IAAI,CAACN,QAAQ,GAAGD,IAAI,CAACC,QAAQ;MAC7B,IAAI,CAACM,KAAK,GAAGA,KAAK;IACpB,CAAC,CACA;EACH;;AA9BWhB,cAAc;mBAAdA,cAAc;AAAA;AAAdA,cAAc;QAAdA,cAAc;EAAAiB;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MCV3BtB,8BAAkB;MAChBA,+DAEM;MAENA,+BAAuE;MAA3BA;QAAA,OAAYuB,iBAAa;MAAA,EAAC;MACpEvB,2BAME;MAEFA,iCAA8D;MAC5DA,wBACF;MAAAA,iBAAS;MAGXA,+DASM;MACRA,iBAAM;;;MA5BEA,eAAW;MAAXA,gCAAW;MAIEA,eAAwB;MAAxBA,0CAAwB;MASXA,eAA+B;MAA/BA,iDAA+B;MAKjCA,eAAc;MAAdA,mCAAc","names":["FormControl","FormGroup","Validators","GET_PRODUCTS","GET_PRODUCTS_BY_ID","i0","PostsComponent","searchPosts","apollo","query","variables","username","searchForm","value","subscribe","data","products","constructor","required","ngOnInit","watchQuery","valueChanges","error","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["/Users/manjunathbandaru/deploy-graph-angular/src/app/posts/posts.component.ts","/Users/manjunathbandaru/deploy-graph-angular/src/app/posts/posts.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\nimport { Apollo } from 'apollo-angular';\nimport { GET_PRODUCTS, GET_PRODUCTS_BY_ID } from '../graphql.operations';\n\n@Component({\n  selector: 'app-posts',\n  templateUrl: './posts.component.html',\n  styleUrls: ['./posts.component.css']\n})\nexport class PostsComponent implements OnInit {\n  products: any[] = [];\n  error: any;\n\n  searchForm = new FormGroup({\n    username: new FormControl('gethackteam', Validators.required),\n  });\n\n  searchPosts() {\n    this.apollo.query({\n      query: GET_PRODUCTS_BY_ID,\n      variables: {\n        username: this.searchForm.value.username,\n      }\n    }).subscribe(({ data }: any) => {\n      this.products = data.products;\n    });\n\n  }\n\n  constructor(private apollo: Apollo) { }\n\n  ngOnInit(): void {\n    this.apollo.watchQuery({\n      query: GET_PRODUCTS\n    }).valueChanges.subscribe(({ data, error }: any) => {\n      this.products = data.products;\n      this.error = error;\n    }\n    );\n  }\n}","<div class=\"main\">\n  <div *ngIf=\"error\">\n    <p>Error: {{ error }}</p>\n  </div>\n\n  <form class=\"form\" [formGroup]=\"searchForm\" (ngSubmit)=\"searchPosts()\">\n    <input\n      class=\"input\"\n      type=\"text\"\n      name=\"username\"\n      placeholder=\"Enter username\"\n      formControlName=\"username\"\n    />\n    <br />\n    <button class=\"submit-button\" [disabled]=\"searchForm.invalid\">\n      SUBMIT\n    </button>\n  </form>\n\n  <div class=\"posts-container\" *ngIf=\"products\">\n    <ul>\n      <li *ngFor=\"let product of products\">\n        <div class=\"product\">\n          <span class=\"post-title\">{{ product.name }}</span>\n          <span class=\"post-description\">{{ product.price }}</span>\n        </div>\n      </li>\n    </ul>\n  </div>\n</div>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}